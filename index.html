<!-- HTML header for doxygen 1.8.15-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>foleys_gui_magic: foleys_gui_magic</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link rel="shortcut icon" href="ff-icon.png" type="image/x-icon" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://foleysfinest.com"><img alt="Foleys Logo - open foleysfinest.com" src="Logo-FF.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><a href="https://github.com/ffAudio/foleys_gui_magic/">foleys_gui_magic</a>
   </div>
   <div id="projectbrief">WYSWYG editor for JUCE GUIs including Visualisers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">foleys_gui_magic </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__2github_2workspace_2README"></a></p>
<p>DEPRECATION: the branch <code>develop</code> won't be updated and will be deleted soon. <br  />
 The development is done in feature branches which are merged directly to <code>main</code>, so you can always fast-forward the main branch.</p>
<p>main: <br  />
 <a href="https://github.com/ffAudio/foleys_gui_magic/actions/workflows/build.yml"><img src="https://github.com/ffAudio/foleys_gui_magic/actions/workflows/build.yml/badge.svg?branch=main" alt="CMake" style="pointer-events: none;" class="inline"/></a> <br  />
</p>
<p>This module allows to create GUIs without any coding. It is created with a DOM model that provides a hierarchical information, and a CSS cascading stylesheet to define rules for the appearance of the GUI.</p>
<p>There is a drag and drop editor to add GUI elements, and to connect to parameters of your AudioProcessor. Also an editor in the style of FireBug to investigate the individual properties, and how they were obtained/calculated.</p>
<h1>Repository map </h1>
<p>The module to add to your project is in <code>modules/foleys_gui_magic</code>. Ideally you just use the <code>juce_add_module()</code> in your CMakeLists.txt or add it via Projucer.</p>
<p>In the folder <code>Examples</code> you find the example projects. The build will run pluginval on the examples (where it applies). <br  />
 The CMake option for the examples is <code>FOLEYS_BUILD_EXAMPLES</code> and for pluginval <code>FOLEYS_RUN_PLUGINVAL</code>.</p>
<p>In <code>Tests</code> there are the Catch2 unit tests. Each build will run those unit tests against the latest version. <br  />
 The CMake option for the unit tests is <code>FOLEYS_BUILD_TESTS</code>.</p>
<p>CMake will be responsible to fetch JUCE, pluginval and Catch2 if switched on.</p>
<h1>Support </h1>
<p>You can find the api docs in <a href="https://foleysfinest.com/foleys_gui_magic/">https://foleysfinest.com/foleys_gui_magic/</a></p>
<p>For the modules of Foleys Finest Audio there is a new forum where you can search for information and ask questions: <a href="https://forum.foleysfinest.com">https://forum.foleysfinest.com</a></p>
<p>Or join the discussion on <a href="https://discord.gg/Xhn58BrAjG">discord</a></p>
<p>All feedback is welcome.</p>
<h1>Setup </h1>
<p>To use the WYSWYG plugin editor, add this module via Projucer or CMake to your JUCE project.</p>
<p>Instead of inheriting from juce::AudioProcessor inherit <a class="el" href="classfoleys_1_1MagicProcessor.html" title="This is a convenience class to create a plugin using PluginGuiMagic.">foleys::MagicProcessor</a>. Get rid of those methods:</p><ul>
<li>bool hasEditor()</li>
<li>juce::PluginEditor* createEditor()</li>
<li>void setStateInformation() and void getStateInformation() (optional, a default saving and loading method is provided)</li>
</ul>
<p>The <a class="el" href="classfoleys_1_1MagicProcessor.html" title="This is a convenience class to create a plugin using PluginGuiMagic.">foleys::MagicProcessor</a> will provide a <code><a class="el" href="classfoleys_1_1MagicProcessorState.html" title="The MagicProcessorState is a subclass of MagicGUIState, that adds AudioProcessor specific functionali...">foleys::MagicProcessorState</a> magicState</code> (protected visibility) to add visualisations or other objects to expose to the GUI.</p>
<p>The floating editor has an auto save, which needs to know the location of your source files. To activate that you need to copy this macro into your <a class="el" href="classfoleys_1_1MagicProcessor.html" title="This is a convenience class to create a plugin using PluginGuiMagic.">foleys::MagicProcessor</a> constructor: </p><div class="fragment"><div class="line"><a class="code hl_define" href="foleys__MagicProcessor_8h.html#a73d4d5b0c53550545d8331ba0714d2f2">FOLEYS_SET_SOURCE_PATH</a>(__FILE__);</div>
<div class="ttc" id="afoleys__MagicProcessor_8h_html_a73d4d5b0c53550545d8331ba0714d2f2"><div class="ttname"><a href="foleys__MagicProcessor_8h.html#a73d4d5b0c53550545d8331ba0714d2f2">FOLEYS_SET_SOURCE_PATH</a></div><div class="ttdeci">#define FOLEYS_SET_SOURCE_PATH(source)</div><div class="ttdef"><b>Definition</b> foleys_MagicProcessor.h:168</div></div>
</div><!-- fragment --><p> Otherwise autosave will start working once you loaded or saved the state, since then the editor has a location to use.</p>
<p>It is also possible to use the module in an Application. In that case you add a <code>MagicGuiState</code> and a <code>MagicGUIBuilder</code> yourself. There is an example available in the examples repository called PlayerExample.</p>
<h1>Add Visualisations </h1>
<p>To add visualisations like an Analyser or Oscilloscope to your plugin, add them in the constructor:</p>
<div class="fragment"><div class="line">// Member:</div>
<div class="line">foleys::MagicPlotSource* analyser = nullptr;</div>
<div class="line"> </div>
<div class="line">// Constructor</div>
<div class="line">analyser = magicState.createAndAddObject&lt;foleys::MagicAnalyser&gt;(&quot;input&quot;);</div>
<div class="line"> </div>
<div class="line">// prepareToPlay</div>
<div class="line">analyser-&gt;prepareToPlay (sampleRate, samplesPerBlockExpected);</div>
<div class="line"> </div>
<div class="line">// e.g. in processBlock send the samples to the analyser:</div>
<div class="line">analyser-&gt;pushSamples (buffer);</div>
</div><!-- fragment --><p>In your editor, drag a <code>Plot</code> component into the UI and select the name you supplied as <code>source</code>, in this case "input".</p>
<h1>Saving and restoring the plugin </h1>
<p>The <code><a class="el" href="classfoleys_1_1MagicProcessor.html" title="This is a convenience class to create a plugin using PluginGuiMagic.">foleys::MagicProcessor</a></code> takes care of saving and restoring the parameters and properties. You can add your own values to the ValueTree in the <code>magicState</code>. There is a callback after restoring that you can override, in case you need to do some additional action.</p>
<p>Additionally to saving the values in the plugin state you can have settings across all instances of your plugin. To use that you need to setup the path to a file. After that the settings are synchronised in the settings of the magicState: </p><div class="fragment"><div class="line">// in constructor</div>
<div class="line">magicState.setApplicationSettingsFile (juce::File::getSpecialLocation (juce::File::userApplicationDataDirectory)</div>
<div class="line">                                       .getChildFile (ProjectInfo::companyName)</div>
<div class="line">                                       .getChildFile (ProjectInfo::projectName + juce::String (&quot;.settings&quot;)));</div>
<div class="line"> </div>
<div class="line">// use it like</div>
<div class="line">presetNode = magicState.getSettings().getOrCreateChildWithName (&quot;presets&quot;, nullptr);</div>
<div class="line">presetNode.setProperty (&quot;foo&quot;, 100, nullptr);</div>
</div><!-- fragment --><p>Other than the juce::ApplicationSettings this is not a flat list but can deal with hierarchical data in form of ValueTrees. PluginGuiMagic will deal with interprocess safety and update if the file has changed.</p>
<h1>Bake in the xml </h1>
<p>To bake in the GUI save the XML from the PGM panel and add it to the BinaryResources via Projucer. In the constructor you set the XML file: </p><div class="fragment"><div class="line">magicState.setGuiValueTree (BinaryData::magic_xml, BinaryData::magic_xmlSize);</div>
</div><!-- fragment --><h1>Removing the WYSWYG editor </h1>
<p>The WYSWYG editor panel (attached outside the PluginEditor) is switched on or off with the config in Projucer named <code>FOLEYS_SHOW_GUI_EDITOR_PALLETTE</code>. An effective way is to add <code>FOLEYS_SHOW_GUI_EDITOR_PALLETTE=0</code> into extra preprocessor defines of the release build, that way you can design in debug mode, and avoid the WYSWYG editor from being included in the release build for deployment.</p>
<h1>Currently available Components </h1>
<p>It is completely possible to register your own bespoke Components into the builder. These Components are already available:</p>
<ul>
<li>Slider (attachable to parameters)</li>
<li>ComboBox (attachable to parameters)</li>
<li>ToggleButton (attachable to parameters)</li>
<li>TextButton (attachable to parameters)</li>
<li>XYDragComponent (attachable to two parameters)</li>
<li>Plot (displays various 2-d data)</li>
<li>LevelMeter (displays different RMS / Max levels)</li>
<li>Label</li>
<li>MidiKeyboardComponent</li>
<li>MidiLearn</li>
<li>ListBox</li>
<li>WebBrowserComponent</li>
</ul>
<p>All Components have the option to add margins/paddings and a border also with rounded corners. The View component serves as container, that has the option to layer all child components on top of each other or to layout them using flex-box.</p>
<h1>Demo projects </h1>
<p>You find the demo projects in the folder <code>Examples</code>. We use CMake for building the examples and running the unit tests.</p>
<h1>Contributing </h1>
<p>Everybody is welcome and encouraged to contribute. This is supposed to be helpful for as many people as possible, so please give your ideas as github issues and send pull requests.</p>
<p>We might ask you to change things in your pull requests to keep the style consistent and to keep the API as concise as possible.</p>
<p>We have a discord server to discuss features, bugs or ideas: <br  />
 <a href="https://discord.gg/gxtjTx6fNg">Discord</a></p>
<p>If you make changes, make sure that the unit tests in <code>Tests</code> still succeed and the examples in the <code>Examples</code> folder still compile and work.</p>
<p>Good luck and happy coding, erm designing, erm... both actually :-)</p>
<p>Brighton, UK - started Sept. 2019 Esslingen, Germany - 2020 - 2023 </p>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"/>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat May 25 2024 21:24:19 for foleys_gui_magic by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
